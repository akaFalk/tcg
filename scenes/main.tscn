[gd_scene load_steps=18 format=3 uid="uid://crf02py6ivrhs"]

[ext_resource type="Script" uid="uid://3gwct2hgy3es" path="res://systems/card_manager.gd" id="1_fnqc8"]
[ext_resource type="Texture2D" uid="uid://xs2i50m3otqy" path="res://assets/card-back1.png" id="2_85g3d"]
[ext_resource type="Texture2D" uid="uid://d0gp1c48nitab" path="res://assets/card-back4.png" id="2_ya4ey"]
[ext_resource type="PackedScene" uid="uid://cmn5fanrrjxmq" path="res://entities/card_slots/card_slot.tscn" id="3_0w6vj"]
[ext_resource type="Texture2D" uid="uid://ctun7c2ec82y7" path="res://assets/card-back3.png" id="3_choun"]
[ext_resource type="Script" uid="uid://c5jpt1q3vulgi" path="res://entities/hands/player_hand.gd" id="4_1nvsg"]
[ext_resource type="Texture2D" uid="uid://ddxe5w2bf737n" path="res://assets/card-back2.png" id="4_s6vfv"]
[ext_resource type="PackedScene" uid="uid://c55oevxm0q8ee" path="res://entities/decks/deck.tscn" id="6_85g3d"]
[ext_resource type="Script" uid="uid://c6iv3vhdxdf6g" path="res://systems/input_manager.gd" id="6_n1dqr"]
[ext_resource type="Script" uid="uid://b1g1uel55m1wn" path="res://data/players/resource_ui.gd" id="8_jkv2x"]
[ext_resource type="Script" uid="uid://cmpd0xeyqwx0q" path="res://entities/decks/deck.gd" id="8_trceg"]
[ext_resource type="Script" uid="uid://csyh2jvs65m0n" path="res://data/card_loader.gd" id="9_85g3d"]
[ext_resource type="Script" uid="uid://16qkqhtusgwp" path="res://scenes/end_turn_button.gd" id="9_choun"]
[ext_resource type="Resource" uid="uid://nypxybqxd3ig" path="res://data/players/player_data.tres" id="9_jbj1t"]
[ext_resource type="Script" uid="uid://coa17uwgx4x6r" path="res://entities/hands/opponent_hand.gd" id="10_a8y0u"]
[ext_resource type="Script" uid="uid://c3nrlmec2nmty" path="res://systems/turn_system.gd" id="15_dp3eg"]
[ext_resource type="Resource" uid="uid://dfnxn5fdrxn8c" path="res://data/players/opponent_data.tres" id="17_muem4"]

[node name="Main" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.995391, -0.0958979, 0, 0.0958979, 0.995391, 1.48824, 0.985817, 4.51396)

[node name="CardLoader" type="Node3D" parent="."]
script = ExtResource("9_85g3d")

[node name="PlayerField" type="Node3D" parent="."]

[node name="PlayerHand" type="Node3D" parent="PlayerField" node_paths=PackedStringArray("turn_system", "camera")]
script = ExtResource("4_1nvsg")
turn_system = NodePath("../../Systems/TurnSystem")
camera = NodePath("../../Camera3D")

[node name="Deck" parent="PlayerField" node_paths=PackedStringArray("card_loader", "card_manager") instance=ExtResource("6_85g3d")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 2.7, 0.4, 0)
card_loader = NodePath("../../CardLoader")
card_manager = NodePath("../../Systems/CardManager")

[node name="CreatureCardSlot1" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 0.9, 1.2, 0)
image = ExtResource("2_ya4ey")

[node name="CreatureCardSlot2" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 1.5, 1.2, 0)
image = ExtResource("2_ya4ey")

[node name="CreatureCardSlot3" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 2.1, 1.2, 0)
image = ExtResource("2_ya4ey")

[node name="SpellCardSlot1" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 0.9, 0.4, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="SpellCardSlot2" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 1.5, 0.4, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="SpellCardSlot3" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 2.1, 0.4, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="FieldCardSlot" parent="PlayerField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 0.3, 1.2, 0)
slot_type = 2
image = ExtResource("3_choun")

[node name="ResourcesUI" type="Control" parent="PlayerField"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("8_jkv2x")
player_data = ExtResource("9_jbj1t")

[node name="Label" type="Label" parent="PlayerField/ResourcesUI"]
layout_mode = 0
offset_top = 986.0
offset_right = 40.0
offset_bottom = 1009.0

[node name="OpponentField" type="Node3D" parent="."]

[node name="CreatureCardSlot1" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 2.1, 2.3, 0)
image = ExtResource("2_ya4ey")

[node name="CreatureCardSlot2" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 1.5, 2.3, 0)
image = ExtResource("2_ya4ey")

[node name="CreatureCardSlot3" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 0.9, 2.3, 0)
image = ExtResource("2_ya4ey")

[node name="SpellCardSlot1" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 2.1, 3.1, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="SpellCardSlot2" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 1.5, 3.1, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="SpellCardSlot3" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 0.9, 3.1, 0)
slot_type = 1
image = ExtResource("2_85g3d")

[node name="FieldCardSlot" parent="OpponentField" instance=ExtResource("3_0w6vj")]
transform = Transform3D(0.50088, 0, 0, 0, 0.50088, 0, 0, 0, 0.50088, 2.7, 2.3, 0)
slot_type = 2
image = ExtResource("3_choun")

[node name="Deck" type="Node3D" parent="OpponentField" node_paths=PackedStringArray("card_loader", "card_manager", "sprite")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0.3, 3.1, 0)
script = ExtResource("8_trceg")
card_loader = NodePath("../../CardLoader")
card_manager = NodePath("../../Systems/CardManager")
sprite = NodePath("Sprite3D")
player = 1

[node name="Sprite3D" type="Sprite3D" parent="OpponentField/Deck"]
render_priority = -1
texture = ExtResource("4_s6vfv")

[node name="OpponentHand" type="Node3D" parent="OpponentField"]
script = ExtResource("10_a8y0u")

[node name="ResourcesUI" type="Control" parent="OpponentField"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("8_jkv2x")
player_data = ExtResource("17_muem4")

[node name="Label" type="Label" parent="OpponentField/ResourcesUI"]
layout_mode = 0
offset_top = 200.0
offset_right = 40.0
offset_bottom = 223.0

[node name="EndTurnButton" type="Button" parent="."]
offset_left = 624.0
offset_top = 582.0
offset_right = 702.0
offset_bottom = 613.0
text = "End Turn"
script = ExtResource("9_choun")

[node name="Systems" type="Node3D" parent="."]

[node name="TurnSystem" type="Node3D" parent="Systems"]
script = ExtResource("15_dp3eg")

[node name="CardManager" type="Node3D" parent="Systems" node_paths=PackedStringArray("player_hand", "input_manager")]
script = ExtResource("1_fnqc8")
player_hand = NodePath("../../PlayerField/PlayerHand")
input_manager = NodePath("../InputManager")

[node name="InputManager" type="Node3D" parent="Systems" node_paths=PackedStringArray("card_manager", "player_hand")]
script = ExtResource("6_n1dqr")
card_manager = NodePath("../CardManager")
player_hand = NodePath("../../PlayerField/PlayerHand")
